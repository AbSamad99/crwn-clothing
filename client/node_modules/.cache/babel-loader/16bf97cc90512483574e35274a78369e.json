{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\E480\\\\Desktop\\\\crwn-clothing\\\\src\\\\pages\\\\shop\\\\shop.component.jsx\";\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils';\nimport WithSpinner from '../../components/with-spinner/with-spinner.component';\nimport CollectionsOverview from '../../components/collections-overview/collections-overview.component';\nimport CollectionPage from '../../pages/collection/collection.component';\nimport { UpdateCollection } from '../../redux/shop/shop.actions';\nconst CollectionsOverviewWithSpinner = WithSpinner(CollectionsOverview);\nconst CollectionPageWithSpinner = WithSpinner(CollectionPage);\n\nclass ShopPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true\n    };\n    this.unsubscribeFromSnapshot = null;\n  }\n\n  componentDidMount() {\n    const UpdateCollection = this.props.UpdateCollection;\n    const collectionRef = firestore.collection('collections');\n    fetch('https://firestore.googleapis.com/v1/projects/crwn-clothing-158ed/databases/(default)/documents/collections').then(response => response.json()).then(console.log); // collectionRef.get().then(snapshot=>{\n    //     const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n    //     UpdateCollection(collectionsMap);\n    //     this.setState({loading:false})\n    // });\n  }\n\n  render() {\n    const match = this.props.match;\n    const loading = this.state.loading;\n    return React.createElement(\"div\", {\n      className: \"shop-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: `${match.path}`,\n      render: props => React.createElement(CollectionsOverviewWithSpinner, Object.assign({}, props, {\n        isLoading: loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: `${match.path}/:collectionId`,\n      render: props => React.createElement(CollectionPageWithSpinner, Object.assign({}, props, {\n        isLoading: loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  UpdateCollection: collection => dispatch(UpdateCollection(collection))\n});\n\nexport default connect(null, mapDispatchToProps)(ShopPage);","map":{"version":3,"sources":["C:/Users/E480/Desktop/crwn-clothing/src/pages/shop/shop.component.jsx"],"names":["React","Route","connect","firestore","convertCollectionsSnapshotToMap","WithSpinner","CollectionsOverview","CollectionPage","UpdateCollection","CollectionsOverviewWithSpinner","CollectionPageWithSpinner","ShopPage","Component","state","loading","unsubscribeFromSnapshot","componentDidMount","props","collectionRef","collection","fetch","then","response","json","console","log","render","match","path","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,SAAQC,SAAR,EAAkBC,+BAAlB,QAAwD,+BAAxD;AAEA,OAAOC,WAAP,MAAwB,sDAAxB;AAEA,OAAOC,mBAAP,MAAgC,sEAAhC;AACA,OAAOC,cAAP,MAA2B,6CAA3B;AAEA,SAAQC,gBAAR,QAA+B,+BAA/B;AAEA,MAAMC,8BAA8B,GAACJ,WAAW,CAACC,mBAAD,CAAhD;AACA,MAAMI,yBAAyB,GAACL,WAAW,CAACE,cAAD,CAA3C;;AAEA,MAAMI,QAAN,SAAuBX,KAAK,CAACY,SAA7B,CAAsC;AAAA;AAAA;AAAA,SAClCC,KADkC,GAC5B;AACFC,MAAAA,OAAO,EAAC;AADN,KAD4B;AAAA,SAKlCC,uBALkC,GAKV,IALU;AAAA;;AAOlCC,EAAAA,iBAAiB,GAAE;AAAA,UACRR,gBADQ,GACW,KAAKS,KADhB,CACRT,gBADQ;AAEf,UAAMU,aAAa,GAACf,SAAS,CAACgB,UAAV,CAAqB,aAArB,CAApB;AAEAC,IAAAA,KAAK,CAAC,4GAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADhB,EAECF,IAFD,CAEMG,OAAO,CAACC,GAFd,EAJe,CAQf;AACA;AACA;AACA;AACA;AACH;;AAEDC,EAAAA,MAAM,GAAE;AAAA,UACGC,KADH,GACU,KAAKV,KADf,CACGU,KADH;AAAA,UAEGb,OAFH,GAEY,KAAKD,KAFjB,CAEGC,OAFH;AAGJ,WACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAG,GAAEa,KAAK,CAACC,IAAK,EAAjC;AAAoC,MAAA,MAAM,EAAGX,KAAD,IAAS,oBAAC,8BAAD,oBAAoCA,KAApC;AAA2C,QAAA,SAAS,EAAEH,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAG,GAAEa,KAAK,CAACC,IAAK,gBAA3B;AAA4C,MAAA,MAAM,EAAGX,KAAD,IAAS,oBAAC,yBAAD,oBAA+BA,KAA/B;AAAsC,QAAA,SAAS,EAAEH,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH;;AA/BiC;;AAkCtC,MAAMe,kBAAkB,GAACC,QAAQ,KAAG;AAChCtB,EAAAA,gBAAgB,EAACW,UAAU,IAAEW,QAAQ,CAACtB,gBAAgB,CAACW,UAAD,CAAjB;AADL,CAAH,CAAjC;;AAIA,eAAejB,OAAO,CAAC,IAAD,EAAM2B,kBAAN,CAAP,CAAiClB,QAAjC,CAAf","sourcesContent":["import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {firestore,convertCollectionsSnapshotToMap} from '../../firebase/firebase.utils'\r\n\r\nimport WithSpinner from '../../components/with-spinner/with-spinner.component';\r\n\r\nimport CollectionsOverview from '../../components/collections-overview/collections-overview.component'\r\nimport CollectionPage from '../../pages/collection/collection.component';\r\n\r\nimport {UpdateCollection} from '../../redux/shop/shop.actions';\r\n\r\nconst CollectionsOverviewWithSpinner=WithSpinner(CollectionsOverview);\r\nconst CollectionPageWithSpinner=WithSpinner(CollectionPage);\r\n\r\nclass ShopPage extends React.Component{\r\n    state={\r\n        loading:true\r\n    }\r\n\r\n    unsubscribeFromSnapshot=null;\r\n\r\n    componentDidMount(){\r\n        const {UpdateCollection} =this.props;\r\n        const collectionRef=firestore.collection('collections');\r\n\r\n        fetch('https://firestore.googleapis.com/v1/projects/crwn-clothing-158ed/databases/(default)/documents/collections')\r\n        .then(response=>response.json())\r\n        .then(console.log)\r\n\r\n        // collectionRef.get().then(snapshot=>{\r\n        //     const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\r\n        //     UpdateCollection(collectionsMap);\r\n        //     this.setState({loading:false})\r\n        // });\r\n    }\r\n    \r\n    render(){\r\n        const {match}=this.props;\r\n        const {loading}=this.state;\r\n        return(\r\n            <div className='shop-page' >\r\n                <Route exact path={`${match.path}`} render={(props)=><CollectionsOverviewWithSpinner {...props} isLoading={loading} />} />\r\n                <Route path={`${match.path}/:collectionId`} render={(props)=><CollectionPageWithSpinner {...props} isLoading={loading} />} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps=dispatch=>({\r\n    UpdateCollection:collection=>dispatch(UpdateCollection(collection))\r\n})\r\n\r\nexport default connect(null,mapDispatchToProps)(ShopPage);"]},"metadata":{},"sourceType":"module"}